<suite name="RHQ CLI EAP6">

  	<listeners>
  	  	<!-- Listener to send report to Report Engine Server  	  	--> 
  	  	<listener class-name="com.redhat.reportengine.client.ReportEngineTestNGListner" />
  	  	<listener class-name="com.redhat.qe.tools.checklog.CheckLogTestNGListener" />
  	</listeners>


<parameter name="cli.username"  value="rhqadmin"/>
<parameter name="cli.password"  value="rhqadmin"/>
<!-- <parameter name="rhq.target"  value="mercury.lab.eng.pnq.redhat.com"/> -->
<parameter name="make.failure"  value="Login failed:,No such file or directory"/>


<!-- 

Some of bellow testing JS files expect named parameter called 'agent' to be passed. You may ask, why it is not here.
It's because agent (a platform name) is dynamic, see com.redhat.qe.jon.clitest.tests.plugins.eap6.AS7CliTest
which does that magic.

There's no need to add 'rhqapi.js' to 'js.depends' parameter when using  com.redhat.qe.jon.clitest.tests.plugins.eap6.AS7CliTest

 --> 
<test name="Standalone_Discovery_StartCommand_Parameters">
  	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.standalone.DiscoveryTest">	
			<methods>
				<include name="serverStartupTest"></include>		
			</methods>
		</class>
	</classes>
</test>
<test name="Domain_Discovery_StartCommand_Parameters">
  	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.domain.DiscoveryTest">	
			<methods>
				<include name="serverStartupTest"></include>		
			</methods>
		</class>
	</classes>
</test>

<test name="Uninventory_EAP_Servers">
  	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.AS7CliTest">	
			<parameter name="js.file"  value="eap6/uninventoryServers.js"/>
			<parameter name="expected.result"  value="Login successful"/>
			<parameter name="cli.args" value="--args-style=named discovery=yes" />
			<methods>
				<include name="runJSfile"></include>		
			</methods>
		</class>
	</classes>
</test>

<!-- right after discovery tests we import our resources and the show can begin -->
<test name="Inventory_EAP_Servers">
  	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.AS7CliTest">	
			<parameter name="js.file"  value="eap6/inventoryServers.js"/>
			<parameter name="expected.result"  value="Login successful"/>
			<methods>
				<include name="runJSfile"></include>		
			</methods>
		</class>
	</classes>
</test>
<test name="Detect_ServerVersion">
  	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.GetVersionTest">	
			<methods>
				<include name="getServerVersion"></include>		
			</methods>
		</class>
	</classes>
</test>
<test name="Standalone_Deployment">
	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.standalone.DeploymentTest">
			<methods>
				<include name=".*deploy.*"></include>
				<include name="retrieve.*"></include>			
			</methods>
		</class>		
	</classes>
</test>
<test name="Standalone_BundleDeployment">
	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.AS7CliTest">
			<parameter name="js.file"  value="eap6/bundleDeploymentTest.js"/>
			<parameter name="js.depends" value="eap6/standalone/server.js" />
			<parameter name="res.src" value="/bundles/bundle-war.zip,/bundles/bundle-war-new.zip" />
			<parameter name="res.dst" value="/tmp/bundle-war.zip,/tmp/bundle-war-new.zip" />
			<parameter name="cli.args" value="--args-style=named bundle=/tmp/bundle-war.zip bundle2=/tmp/bundle-war-new.zip" />
			<methods>
				<include name="runJSfile"></include>			
			</methods>
		</class>		
	</classes>
</test>
<test name="Standalone_NetworkInterfaces">
	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.AS7CliTest">
			<parameter name="js.file"  value="eap6/networkInterfacesTest.js"/>
			<parameter name="js.depends" value="eap6/standalone/server.js" />
			<parameter name="cli.args" value="--args-style=named flag=SS" />
			<methods>
				<include name="runJSfile"></include>			
			</methods>
		</class>		
	</classes>
</test>

<test name="Domain_Deployment">
	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.domain.DeploymentTest">
			<methods>
				<include name=".*deploy.*"></include>
				<include name="retrieve.*"></include>			
			</methods>
		</class>		
	</classes>
</test>
<!-- 
Temporary commented out - not yet implemented
<test name="Domain_NetworkInterfaces">
	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.AS7CliTest">
			<parameter name="js.file"  value="eap6/networkInterfacesTest.js"/>
			<parameter name="js.depends" value="eap6/domain/server.js" />
			<parameter name="cli.args" value="!fix here!args-style=named flag=DC" />
			<methods>
				<include name="runJSfile"></include>			
			</methods>
		</class>		
	</classes>
</test>
 -->
<test name="Domain_Host_NetworkInterfaces">
	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.AS7CliTest">
			<parameter name="js.file"  value="eap6/networkInterfacesTest.js"/>
			<parameter name="js.depends" value="eap6/domain/server.js" />
			<parameter name="cli.args" value="--args-style=named flag=HC" />
			<methods>
				<include name="runJSfile"></include>			
			</methods>
		</class>		
	</classes>
</test>

<!-- -->
<!--  This case SHOULD BE LAST ONE -->
<test name="Uninventory_EAP_Servers_again">
  	<classes>
		<class name="com.redhat.qe.jon.clitest.tests.plugins.eap6.AS7CliTest">	
			<parameter name="js.file"  value="eap6/uninventoryServers.js"/>
			<parameter name="expected.result"  value="Login successful"/>
			<parameter name="cli.args" value="--args-style=named discovery=yes" />
			<methods>
				<include name="runJSfile"></include>		
			</methods>
		</class>
	</classes>
</test>


</suite>
